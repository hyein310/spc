<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>img slide</title>
    <style>
      .slider {
        align-items: center;
      }
      .slider img {
        width: 200px;
        height: 200px;
        margin: 10px;
        display: none;
      }
      .slider img.active {
        display: block;
      }
      .btns {
        margin-top: 10px;
      }
      button {
        padding: 10px;
        font-size: 16px;
      }
    </style>
  </head>
  <body>
    <h1>이미지 슬라이더</h1>
    <div class="slider">
      <img id="img1" src="img/dog1.jpg" class="active" alt="dog1" />
      <img id="img2" src="img/dog2.jpeg" alt="dog2" />
      <img id="img3" src="img/dog3.jpg" alt="dog3" />

      <div class="fileName" id="fileName">dog1.jpg</div>

      <div class="btns">
        <button id="prev">이전</button>
        <button id="next">다음</button>
      </div>
    </div>

    <script>
      // 미션1. 버튼 가져다가 클릭하면 class=active를 다음 거로 이동, 파일명 갱신
      const prevBtn = document.getElementById("prev");
      const nextBtn = document.getElementById("next");
      const imgArr = document.getElementsByTagName("img");
      let currentIndex = 0;

      prevBtn.addEventListener("click", function () {
        imgArr[currentIndex].className = "";
        currentIndex = currentIndex - 1;

        if (currentIndex < 0) {
          currentIndex = imgArr.length - 1;
        }
        imgArr[currentIndex].className = "active";
        fileName(currentIndex);

        // for (let i = 0; i < imgArr.length; i++) {
        //   imgArr[i].className.remove = "active";
        //   if (i % imgArr.length == 0) {
        //     // imgArr[0]
        //     imgArr[i].className = "active";
        //   } else if (i % imgArr.length == 1) {
        //     // imgArr[1]
        //     imgArr[i].className = "active";
        //   } else if (i % imgArr.length == 2) {
        //     // imgArr[2]
        //     imgArr[i].className = "active";
        //   }
        // }

        // 3항 연산자
        // if ... else ... 멀티라인을 1줄로 코딩하는 기법
        // if(currentIndex === 0) {
        //     currentIndex = imgArr.length - 1;
        // }
        // else {
        //     currentIndex = currentIndex - 1;
        // }

        // currentIndex =
        //   currentIndex === 0 ? imgArr.length - 1 : currentIndex - 1;
      });

      nextBtn.addEventListener("click", function () {
        imgArr[currentIndex].className = "";
        currentIndex = currentIndex + 1;
        if (currentIndex > imgArr.length - 1) {
          currentIndex = 0;
        }

        imgArr[currentIndex].className = "active";
        fileName(currentIndex);
      });

      function fileName(imgNum) {
        const fileName = document.getElementById("fileName");

        fileName.textContent = `${imgArr[currentIndex].src.split("/").pop()}`;
        console.log("src : ", imgArr[currentIndex].src.split("/").pop());
      }
    </script>
  </body>
</html>
